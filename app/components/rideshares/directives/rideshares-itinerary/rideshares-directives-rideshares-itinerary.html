<div flex layout="row" layout-margin layout-fill layout-padding>
    <form
            name="RidesharesForm"
            id="RidesharesForm"
            novalidate
            ng-submit="vm.addPlace()">

        <fieldset>
            <legend><ng-md-icon style="fill: blue" icon="directions" size="18"></ng-md-icon>&nbsp;Waypoints</legend>
            <input
                    name="place"
                    id="place"
                    type="text"
                    ng-model="vm.place"
                    ng-autocomplete="vm.place"
                    details="vm.placeDetails"/>

            <md-button
                    class="md-raised md-primary"
                    ng-disabled="!vm.place || !vm.placeDetails"
                    ng-click="submit()">+ Add Place
            </md-button>

            <div ng-repeat="place in vm.itinerary.route" style="font-size: 18px">
                <ng-md-icon style="fill: green" icon="swap_vert" size="18" ng-if="$index + 1 < vm.itinerary.route.length"></ng-md-icon>
                <ng-md-icon style="fill: blue" icon="place" size="18" ng-if="$index + 1 === vm.itinerary.route.length"></ng-md-icon>
                &nbsp;&nbsp;
                <ng-md-icon style="fill: red" icon="cancel" size="18"></ng-md-icon>
                &nbsp;&nbsp;
                {{ ::place.place }}
            </div>

        </fieldset>

</div>

<div flex layout-gt-sm="row" layout-sm="column" layout-margin layout-fill ng-if="vm.itinerary.route.length > 1">

    <div flex>
        <fieldset>
            <legend><ng-md-icon style="fill: blue" icon="time_to_leave" size="18"></ng-md-icon>&nbsp;Rideshare Details</legend>
            <table>
                <tr>
                    <td><span style="font-weight: bold">Type</span>:&nbsp;
                        <md-select
                                name="type"
                                ng-model="vm.itinerary.type">
                            <md-option ng-repeat="o in vm.types" value="{{o}}">{{o}}</md-option>
                        </md-select>
                    </td>
                </tr>
                <tr>
                    <td><span style="font-weight: bold">Trip</span>:&nbsp;
                        <md-select
                                name="trip"
                                ng-model="vm.itinerary.trip">
                            <md-option ng-repeat="o in vm.trips" value="{{o}}">{{o}}</md-option>
                        </md-select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span style="font-weight: bold">Frequency</span>:&nbsp;
                        <md-select
                                name="frequency"
                                ng-model="vm.itinerary.frequency">
                            <md-option ng-repeat="o in vm.frequencies" value="{{o}}">{{o}}</md-option>
                        </md-select>
                        <!--Frequency:-->
                        <!--<select-->
                        <!--name="frequency"-->
                        <!--ng-model="vm.itinerary.frequency"-->
                        <!--ng-options="o as o for o in vm.frequencies"></select>-->
                    </td>
                </tr>
            </table>
        </fieldset>

    </div>

    <div flex>
        <fieldset>
            <legend><ng-md-icon style="fill: blue" icon="settings" size="18"></ng-md-icon>&nbsp;Vehicle Details</legend>
            <span style="font-weight: bold">Type</span>:&nbsp;
            <md-select
                    name="vehicle"
                    ng-model="vm.itinerary.vehicle">
                <md-option ng-repeat="o in vm.vehicleTypes" value="{{o}}">{{o}}</md-option>
            </md-select>

            <br/>

            <span style="font-weight: bold">Available Seats</span>:&nbsp;
            <md-select
                    name="seats"
                    ng-model="vm.itinerary.seats">
                <md-option ng-repeat="o in vm.seats" value="{{o}}">{{o}}</md-option>
            </md-select>

            <br/>

            <span style="font-weight: bold">Luggage</span>:&nbsp;
            <md-select
                    name="luggage"
                    ng-model="vm.itinerary.luggage">
                <md-option ng-repeat="o in vm.luggage" value="{{o}}">{{o}}</md-option>
            </md-select>

            <br/>
            <br/>

            <span style="font-weight: bold">Share Driving</span>:&nbsp;
            <md-radio-group ng-model="vm.itinerary.shareDriving" class="md-primary">
                <md-radio-button ng-repeat="d in vm.shareDriving"
                                 ng-value="d.value">
                    {{ d.label }}
                </md-radio-button>
            </md-radio-group>

            <br/>

            <span style="font-weight: bold">Smoking</span>:&nbsp;
            <md-radio-group ng-model="vm.itinerary.smoking" class="md-primary">
                <md-radio-button ng-repeat="d in vm.smoking"
                                 ng-value="d.value">
                    {{ d.label }}
                </md-radio-button>
            </md-radio-group>

        </fieldset>
    </div>

    </form>
</div>

<div flex layout-gt-sm="row" layout-sm="column" layout-fill layout-margin ng-if="vm.itinerary.route.length > 1">
    <div flex>
        <md-button
                class="md-raised md-primary"
                ng-if="vm.itinerary.route.length > 1"
                ng-disabled="!vm.isRouteValid"
                ng-click="vm.save()">Save Rideshare
        </md-button>
        &nbsp;
        <md-button
                class="md-raised md-warn"
                ng-if="vm.isOwner"
                ng-click="vm.confirmRemove($event)">Remove Rideshare
        </md-button>
    </div>
</div>

<div flex layout="column" layout-fill layout-margin ng-if="vm.itinerary.route.length">
    <div flex class="rideshare__map">
        <rsm-rideshares-map
                route="vm.itinerary.route"></rsm-rideshares-map>
    </div>
</div>
